{
  "name": "dias_cnvreports_v1.0.2",
  "title": "dias_cnvreports_v1.0.2",
  "stages": [
    {
      "id": "stage-cnv_generate_bed_excluded",
      "name": "generate_bed_for_excluded_annotation",
      "executable": "app-generate_bed/1.2.0",
      "input": {
        "flank": 0
      }
    },
    {
      "id": "stage-cnv_generate_bed_vep",
      "name": "generate_bed_for_vep",
      "executable": "app-generate_bed/1.2.0"
    },
    {
      "id": "stage-cnv_annotate_excluded_regions",
      "executable": "app-eggd_annotate_excluded_regions/1.0.1",
      "input": {
        "panel_bed": {
          "$dnanexus_link": {
            "stage": "stage-cnv_generate_bed_excluded",
            "outputField": "bed_file"
          }
        }
      }
    },
    {
      "id": "stage-cnv_vep",
      "executable": "app-eggd_vep/1.1.0",
      "input": {
        "normalise": false,
        "panel_bed": {
          "$dnanexus_link": {
            "stage": "stage-cnv_generate_bed_vep",
            "outputField": "bed_file"
          }
        }
      },
      "systemRequirements": {
        "*": {
          "instanceType": "mem1_ssd1_v2_x4"
        }
      }
    },
    {
      "id": "stage-GG2z5yQ4qq8vb2xp4pB8XByz",
      "executable": "app-eggd_additional_cnv_tasks/1.0.1",
      "input": {
        "vcf": {
          "$dnanexus_link": {
            "stage": "stage-cnv_vep",
            "outputField": "annotated_vcf"
          }
        }
      }
    },
    {
      "id": "stage-cnv_generate_workbook",
      "executable": "app-eggd_generate_variant_workbook/2.5.0",
      "input": {
        "additional_sheet_names": "ExcludedRegions",
        "vcfs": [
          {
            "$dnanexus_link": {
              "stage": "stage-GG2z5yQ4qq8vb2xp4pB8XByz",
              "outputField": "output_vcf"
            }
          }
        ],
        "additional_files": [
          {
            "$dnanexus_link": {
              "stage": "stage-cnv_annotate_excluded_regions",
              "outputField": "annotated_excluded_file"
            }
          }
        ],
        "exclude_columns": "REF FILTER CSQ_Allele CSQ_Consequence CSQ_IMPACT",
        "reorder_columns": "CHROM POS END CNVLEN ID ALT QUAL CSQ_SYMBOL CSQ_Feature CSQ_VARIANT_CLASS CSQ_EXON CSQ_INTRON CSQ_STRAND GT CN NP QA QS QSE QSS",
        "add_comment_column": true,
        "summary": "dias"
      }
    }
  ]
}
